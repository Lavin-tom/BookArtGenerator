<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index, follow">
  <meta name="copyright" content="CC-By-SA 4.0">
  <title>Bookart Generator</title>

  <!-- CSS -->
  <link rel="stylesheet" href="main.min.css">

</head>
<body>

  <!-- Header -->
  <header id="banner">
  </header>

  <!-- Main Content -->
  <main>
    <article class="content">
      <h1>Bookart Generator</h1>
      <!-- Book Art Form -->
      <form id="bookart-form" onsubmit="return false;">
        <fieldset>
          <legend>Step 1: Enter Book Data</legend>

          <label for="projectname">Project Name:</label>
          <input type="text" id="projectname" name="projectname" placeholder="My Book Art Project" maxlength="100" required>

          <label for="firstpage">First even page number:</label>
          <input type="number" id="firstpage" name="firstpage" min="-50" max="1500" step="2" value="2" required>

          <label for="lastpage">Last even page number:</label>
          <input type="number" id="lastpage" name="lastpage" min="2" max="2000" step="2" value="300" required>

          <label>Unit:</label>
          <div>
            <label><input type="radio" name="unit" value="cm" checked> cm</label>
            <label><input type="radio" name="unit" value="inch"> inch</label>
          </div>

          <label for="bookheight">Page Height:</label>
          <input type="number" id="bookheight" name="bookheight" min="1" max="40" value="15.0" step="0.1" required>

          <label for="singleprecision">
            <input type="checkbox" id="singleprecision" name="singleprecision"> Single Precision (1 decimal place)
          </label>

          <label for="smoothe">Smoothing (experimental):</label>
          <input type="range" id="smoothe" name="smoothe" min="0" max="20" step="1" value="0">
          <output id="smoothe-output">0</output>
        </fieldset>

        <fieldset>
          <legend>Step 2: Select Image</legend>
          <label for="userimage">Upload your image:</label>
          <input type="file" id="userimage" name="userimage" required>
          <canvas id="selected-image" width="150" height="150" aria-label="Preview of uploaded image"></canvas>
          <div id="img-error" class="error"></div>
        </fieldset>

        <fieldset>
          <legend>Step 3: Generate Pattern</legend>
          <button id="generate-btn" type="submit">Create Template!</button>
          <div id="error-box" class="error"></div>
        </fieldset>
      </form>

      <!-- Result -->
      <section id="result">
        <h2>Preview</h2>
        <canvas id="pattern-canvas" aria-label="Pattern preview"></canvas>
        <a id="download-preview" class="button" download="BookArtPreview.png">Download PNG</a>

        <h2>Pattern Text</h2>
        <textarea id="pattern-text" readonly></textarea>
        <a id="download-pattern" class="button" download="BookartPattern.txt">Download Pattern</a>
      </section>
    </article>
  </main>

  <!-- Footer -->
  <footer>
  </footer>

  <!-- Scripts -->
  <script src="bookart.js"></script>
  <script>
    const smootheSlider = document.getElementById('smoothe');
    const smootheOutput = document.getElementById('smoothe-output');
    smootheSlider.addEventListener('input', () => {
      smootheOutput.value = smootheSlider.value;
    });
  </script>
</body>
</html>
